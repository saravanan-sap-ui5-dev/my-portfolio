sap.ui.define(["sap/ui/core/ResizeHandler"],function(e){"use strict";return{_mOverlays:new Map,toggle:function(e,r){if(typeof e=="string"){e=[r.byId(e).getId()]}if(!Array.isArray(e)){return}e.forEach(function(e){var t=r.byId(e),i=t.getId();if(!this._mOverlays.get(i)){this._mOverlays.set(i,this._createOverlay(t))}var a=this._mOverlays.get(i);if(a.oOverlay.style.display==="none"){a.oOverlay.style.display="grid"}else{a.oOverlay.style.display="none"}}.bind(this))},destroy:function(r,t){if(typeof r=="string"){r=[t.byId(r).getId()]}if(!Array.isArray(r)){return}r.forEach(function(r){var i=t.byId(r),a=i.getId();var l=this._mOverlays.get(a);if(!l){return}if(l.oOverlay){l.oOverlay.remove();delete l.oOverlay}if(l.oWrapper){l.oWrapper.remove();delete l.oWrapper}if(l.sResizeHandlerId){e.deregister(l.sResizeHandlerId);delete l.sResizeHandlerId}if(l.oDelegate){i.removeEventDelegate(l.oDelegate);delete l.oDelegate}this._mOverlays.delete(a)}.bind(this))},_createOverlay:function(r){var t={};t.oGridControl=r;t.oWrapper=document.createElement("div");t.oWrapper.classList.add("sapSampleRevealGridWrapper");var i=this._findGridWithinElement(t.oGridControl.getDomRef());i.parentNode.insertBefore(t.oWrapper,i);t.oOverlay=i.cloneNode();t.oOverlay.id+="-overlay";var a={display:"none"};this._fillOverlayGrid(t.oOverlay,i);this._cloneGridStyle(t.oOverlay,i,a);t.sResizeHandlerId=e.register(t.oGridControl,this._resizeHandler.bind(this));t.oDelegate={onBeforeRendering:function(){t.oWrapper.remove()},onAfterRendering:function(){var e=this._findGridWithinElement(t.oGridControl.getDomRef());this._fillOverlayGrid(t.oOverlay,e);this._cloneGridStyle(t.oOverlay,e);e.parentNode.insertBefore(t.oWrapper,e)}};r.addEventDelegate(t.oDelegate,this);t.oWrapper.prepend(t.oOverlay);return t},_cloneGridStyle:function(e,r,t){var i=window.getComputedStyle(this._findGridWithinElement(r));var a={columnGap:i.columnGap,rowGap:i.rowGap,gridTemplateRows:i.gridTemplateRows,gridTemplateColumns:i.gridTemplateColumns};Object.assign(e.style,a,t);e.className=r.className+" sapSampleRevealGridOverlay"},_fillOverlayGrid:function(e,r){while(e.lastChild){e.removeChild(e.lastChild)}var t=this._getOverlayItemsCount(r);for(var i=0;i<t;i++){var a=document.createElement("div");a.classList.add("sapSampleRevealGridItem");e.appendChild(a)}},_getOverlayItemsCount:function(e){var r=window.getComputedStyle(e),t=r.gridTemplateRows,i=r.gridTemplateColumns,a=t.split(/\s+/).length,l=i.split(/\s+/).length;return a*l},_resizeHandler:function(e){e.control.invalidate()},_findGridWithinElement:function(e){if(window.getComputedStyle(e).display==="grid"){return e}if(e.hasChildNodes()){for(var r=0;r<e.children.length;r++){var t=this._findGridWithinElement(e.children[r]);if(t){return t}}}}}});
//# sourceMappingURL=RevealGrid.js.map